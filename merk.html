<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Lotto Chain</title>
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: transparent;
      font-family: "Ubuntu", sans-serif;
    }

    .container {
      width: 100%;
      height: 100vh;
      background-color: transparent;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .logo-title {
      display: flex;
      align-items: center;
      gap: 40px;
    }

    .logo-title img {
      width: 130px;
      height: 130px;
      object-fit: contain;
    }

    h1 {
      background: linear-gradient(90deg, #03a9f4, #f441a5);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-size: 100px;
      margin: 0;
    }

    .download-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 12px 24px;
      font-size: 1rem;
      border: none;
      border-radius: 8px;
      background-color: #00aaff;
      color: white;
      cursor: pointer;
      z-index: 9999;
    }

    .download-btn:hover {
      background-color: #0088cc;
    }
  </style>
</head>
<body>
  <!-- Tombol download -->
  <button class="download-btn" onclick="downloadPNG()">Download Container</button>

  <!-- Area yang akan di-capture -->
  <div class="container" id="ticketContainer">
    <div class="logo-title">
      <img src="img/logo.svg" alt="Logo" />
      <h1>Lotto Chain</h1>
    </div>
  </div>

  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  <script>
    function downloadPNG() {
      const element = document.getElementById("ticketContainer");
      if (!element) {
        console.error("ticketContainer not found");
        alert("Failed to generate image: Container not found.");
        return;
      }

      html2canvas(element, {
        scale: 6,
        useCORS: true,
        backgroundColor: null // transparan
      }).then(canvas => {
        const link = document.createElement("a");

        const randomHex = Math.random().toString(16).slice(2, 10); // 8 karakter hex
        const date = new Date();
        const formattedDate = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
        const uniqueId = `0x${randomHex}`;
        const fileName = `PageTicket_${uniqueId}-${formattedDate}.png`;

        link.download = fileName;
        link.href = canvas.toDataURL("image/png");
        link.click();
      }).catch(err => {
        console.error("Failed to create PNG:", err);
        alert("Failed to generate image. Check console for details.");
      });
    }
  </script>
</body>
</html>
